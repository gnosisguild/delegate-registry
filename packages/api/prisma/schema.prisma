datasource db {
    provider  = "postgresql"
    url       = env("POSTGRES_PRISMA_URL")
    directUrl = env("POSTGRES_URL_NON_POOLING")
}

generator client {
    provider = "prisma-client-js"
}

model RegistryV2Event {
    id String @id

    chainId          Int
    registry         String
    blockNumber      Int
    transactionIndex Int
    logIndex         Int
    blockTimestamp   Int

    space   String
    account String
    topics  String[]
    data    String

    @@index([space])
    @@index([account])
}

model Checkpoint {
    chainId        Int
    registry       String
    blockNumber    Int
    blockTimestamp Int

    @@id([chainId, registry])
}

enum EventKind {
    Set
    Clear
    Expiration
    OptOut
}
